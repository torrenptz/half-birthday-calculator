<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Half-Birthday Calculator</title>
    <style>
        #resultContainer {
            display: none;
        }
        #loadingMessages {
            font-size: 18px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>Half-Birthday Calculator</h1>
    <form id="birthdayForm">
        <label for="birthDay">Day of Birth (DD):</label>
        <input type="number" id="birthDay" min="1" max="31" required><br>

        <label for="birthMonth">Month of Birth (MM):</label>
        <input type="number" id="birthMonth" min="1" max="12" required><br>

        <label for="amPm">AM/PM of Birth:</label>
        <input type="radio" name="amPm" value="AM" required> AM
        <input type="radio" name="amPm" value="PM"> PM<br><br>

        <button type="button" onclick="calculateHalfBirthday()">Calculate Half-Birthday</button>
    </form>

    <div id="loadingMessages"></div>
    <div id="resultContainer">
        <p>Your half-birthday is: <span id="halfBirthdayDate"></span></p>
        <p id="zodiacMessage"></p>
    </div>

    <script>
        // Zodiac signs with date ranges
        function getZodiacSign(date) {
            const zodiacSigns = [
                { sign: "Capricorn", start: [12, 22], end: [1, 19] },
                { sign: "Aquarius", start: [1, 20], end: [2, 18] },
                { sign: "Pisces", start: [2, 19], end: [3, 20] },
                { sign: "Aries", start: [3, 21], end: [4, 19] },
                { sign: "Taurus", start: [4, 20], end: [5, 20] },
                { sign: "Gemini", start: [5, 21], end: [6, 20] },
                { sign: "Cancer", start: [6, 21], end: [7, 22] },
                { sign: "Leo", start: [7, 23], end: [8, 22] },
                { sign: "Virgo", start: [8, 23], end: [9, 22] },
                { sign: "Libra", start: [9, 23], end: [10, 22] },
                { sign: "Scorpio", start: [10, 23], end: [11, 21] },
                { sign: "Sagittarius", start: [11, 22], end: [12, 21] }
            ];

            const month = date.getMonth() + 1;
            const day = date.getDate();

            for (let i = 0; i < zodiacSigns.length; i++) {
                const sign = zodiacSigns[i];
                if ((month === sign.start[0] && day >= sign.start[1]) || (month === sign.end[0] && day <= sign.end[1])) {
                    return sign.sign;
                }
            }
            return "Capricorn"; // Default fallback
        }

        // Function to calculate half-birthday
        function calculateHalfBirthday() {
            const birthMonth = parseInt(document.getElementById("birthMonth").value);
            const birthDay = parseInt(document.getElementById("birthDay").value);
            const amPm = document.querySelector('input[name="amPm"]:checked').value;

            const userBirthday = new Date(new Date().getFullYear(), birthMonth - 1, birthDay);
            let halfBirthday = new Date(userBirthday);
            halfBirthday.setDate(halfBirthday.getDate() + 365 / 2); // Add half a year

            if (amPm === "PM") {
                halfBirthday.setDate(halfBirthday.getDate() + 1); // Move to the next day if PM
            }

            const userZodiac = getZodiacSign(userBirthday);
            const halfBirthdayZodiac = getZodiacSign(halfBirthday);
            const key = `${halfBirthdayZodiac}-${getZodiacNumber(userZodiac)}`;

            // Show loading message
            showLoadingMessage();

            // Wait for 5 seconds to simulate "magical" calculation
            setTimeout(function () {
                displayHalfBirthdayResults(halfBirthday, key);
            }, 5000);
        }

        // Display loading messages
        function showLoadingMessage() {
            const loadingMessages = [
                "Reconfiguring the star charts...",
                "Consulting with the birthday fairies...",
                "Aligning your celestial path...",
                "Consulting ancient astrology texts...",
                "Preparing your cosmic gift..."
            ];

            let index = 0;
            const loadingDiv = document.getElementById("loadingMessages");
            loadingDiv.innerHTML = loadingMessages[index];

            setInterval(function () {
                index = (index + 1) % loadingMessages.length;
                loadingDiv.innerHTML = loadingMessages[index];
            }, 1000); // Change message every second
        }

        // Display the half-birthday results after calculation
        function displayHalfBirthdayResults(halfBirthday, key) {
            // Update the results on the page
            document.getElementById("halfBirthdayDate").textContent = halfBirthday.toDateString();
            document.getElementById("zodiacMessage").textContent = zodiacMessages[key] || "Zodiac message not found.";
            document.getElementById("resultContainer").style.display = "block"; // Show the result
        }

        // Zodiac message lookup based on the key
        const zodiacMessages = {
            "Aries-1": "Aries and Taurus, opposites in many ways. Focus on patience, as you balance action with stability in your half-year reflection.",
            "Taurus-2": "Taurus and Gemini, opposites in approach. Use this time to focus on adaptability and personal growth.",
            "Gemini-3": "Gemini and Cancer, a time for introspection. Balance your social nature with deep, emotional growth during your reflection.",
            "Cancer-4": "Cancer and Leo, two signs that build on emotional strength. This half-birthday brings balance to your inner needs and outward confidence.",
            "Leo-5": "Leo and Virgo, two signs that work hard for the greater good. Reflect on how to use your energy for service to others.",
            "Virgo-6": "Virgo and Libra, a time to find balance between personal improvement and relationships. Focus on harmonious growth.",
            "Libra-7": "Libra and Scorpio, two signs that focus on deep connection. Reflect on how you balance your love for others with your own needs.",
            "Scorpio-8": "Scorpio and Sagittarius, a time to focus on your truth and passions. Reflect on how you can achieve your deepest goals.",
            "Sagittarius-9": "Sagittarius and Capricorn, two signs that focus on freedom and growth. Reflect on how to harness your adventurous spirit in practical ways.",
            "Capricorn-10": "Capricorn and Aquarius, two signs that focus on long-term vision. Reflect on your ambitions and how you can make them a reality.",
            "Aquarius-11": "Aquarius and Pisces, a time to reflect on your dreams. Focus on how to stay grounded while working towards your goals.",
            "Pisces-12": "Pisces and Aries, a time to embrace your creative energies. Reflect on how you can transform your dreams into actions."
        };

        // Helper function to determine the zodiac sign number
        function getZodiacNumber(zodiacSign) {
            const zodiacOrder = ["Aries", "Taurus", "Gemini", "Cancer", "Leo", "Virgo", "Libra", "Scorpio", "Sagittarius", "Capricorn", "Aquarius", "Pisces"];
            return zodiacOrder.indexOf(zodiacSign) + 1;
        }
    </script>
</body>
</html>
