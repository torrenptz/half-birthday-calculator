<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wizard Half-Birthday Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #f3f3f3;
        }
        #wizardContainer {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        p {
            margin: 15px 0;
            line-height: 1.6;
        }
        button {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #007BFF;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #0056b3;
        }
        input[type="text"], input[type="number"] {
            width: 80%;
            padding: 10px;
            margin: 10px 0;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="wizardContainer">
        <p id="wizardText">Welcome brave traveller, I have been waiting for you. No doubt you have come seeking the ancient magical knowledge of one's Celestial Equinox... or should I say half-birthday. Please weary traveller, take a seat and drink some tea.</p>
        <button id="wizardButton" onclick="startJourney()">Take a seat and drink some tea</button>
    </div>

    <script>
        let userName = "";
        let userZodiac = "";

        function startJourney() {
            const wizardContainer = document.getElementById("wizardContainer");
            wizardContainer.innerHTML = `
                <p>Ah very good, now traveller, what is your name?</p>
                <input type="text" id="userNameInput" placeholder="Enter your name">
                <button onclick="setName()">Submit</button>
            `;
        }

        function setName() {
            const nameInput = document.getElementById("userNameInput").value.trim();
            if (!nameInput) {
                alert("Please enter your name, traveller.");
                return;
            }
            userName = nameInput;
            document.getElementById("wizardContainer").innerHTML = `
                <p>Just as the stars foretold, how lovely to meet you, ${userName}! Now, let's get to business, the esoteric knowledge you seek. You have come this far. Now first, brave ${userName}, you must carve your birthdate into this magical stone.</p>
                <input type="number" id="birthDay" placeholder="Day (DD)" min="1" max="31" required>
                <input type="number" id="birthMonth" placeholder="Month (MM)" min="1" max="12" required>
                <button onclick="setBirthdate()">Carve the stone</button>
            `;
        }

        function setBirthdate() {
            const birthDay = parseInt(document.getElementById("birthDay").value);
            const birthMonth = parseInt(document.getElementById("birthMonth").value);

            if (!birthDay || !birthMonth || birthDay > 31 || birthMonth > 12) {
                alert("Please carve a valid birthdate, traveller.");
                return;
            }

            userZodiac = getZodiacSign(birthDay, birthMonth);

            const zodiacHumor = {
                Aries: "bold, aren’t you? Charging ahead without hesitation!",
                Taurus: "steady and grounded, I bet you love a good feast.",
                Gemini: "chatty and curious! Probably asking questions already.",
                Cancer: "nurturering. The stars say you’re a great hugger.",
                Leo: "radiant and dramatic! Let me fetch your spotlight.",
                Virgo: "meticulous and practical, I see you already organizing this adventure.",
                Libra: "balanced and charming, I feel more harmonious just being near you.",
                Scorpio: "mysterious and intense… are you reading my mind right now?",
                Sagittarius: "adventurous and free-spirited! Let me guess, you’re already planning your next journey.",
                Capricorn: "disciplined and ambitious! Are you running the cosmos now?",
                Aquarius: "visionary and unique. I bet you’re already thinking about the future.",
                Pisces: "dreamy and imaginative! Are you even listening, or are you off in a daydream?"
            };

            document.getElementById("wizardContainer").innerHTML = `
                <p>Ah yes! You are a ${userZodiac}! Of course, I should have guessed, you are so ${zodiacHumor[userZodiac]}</p>
                <p>Now, are you ready to cast these stones into the Cavern of Cosmic Wonders?</p>
                <button onclick="castStones()">Yes, tell me my half-birthday!</button>
            `;
        }

        function castStones() {
    const celestialMessages = [
        "Reconfiguring the star charts...",
        "Consulting with the celestial oracle...",
        "Illuminating astral pathways...",
        "Charting the zodiac wheel...",
        "Whispering to ancient constellations...",
        "Synchronizing planetary alignments...",
        "Cross-referencing cosmic archives...",
        "Balancing universal energies..."
    ];

    let index = 0;
    document.getElementById("wizardContainer").innerHTML = `<p id="loadingMessage">${celestialMessages[index]}</p>`;
    const interval = setInterval(() => {
        index = Math.floor(Math.random() * celestialMessages.length);
        document.getElementById("loadingMessage").textContent = celestialMessages[index];
    }, 1000);

    setTimeout(() => {
        clearInterval(interval); // Ensure this is called to stop updates
        showHalfBirthdayResults(); // Proceed to show the results
    }, 5000);
}


        function showHalfBirthdayResults() {
            const birthDay = parseInt(document.getElementById("birthDay").value);
            const birthMonth = parseInt(document.getElementById("birthMonth").value);
            const halfBirthday = new Date(2024, birthMonth - 1, birthDay);
            halfBirthday.setDate(halfBirthday.getDate() + 182);

            const monthNames = [
                "January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"
            ];
            const halfMonth = monthNames[halfBirthday.getMonth()];
            const halfDay = halfBirthday.getDate();

            const halfZodiac = getZodiacSign(halfBirthday.getDate(), halfBirthday.getMonth() + 1);
            const zodiacKey = `${userZodiac}-${halfZodiac}`;

            const halfBirthdayMessage = zodiacMessages[zodiacKey] || "No specific message for this pairing.";

            document.getElementById("wizardContainer").innerHTML = `
                <p>Very well, ${userName}. The stars have spoken!</p>
                <p>Your half-birthday is: <strong>${halfMonth} ${halfDay}</strong></p>
                <p>${halfBirthdayMessage}</p>
                <p>${halfBirthdayReflection}</p>
            `;
        }

        function getZodiacSign(day, month) {
            for (let sign of zodiacSigns) {
                if (
                    (month === sign.start[0] && day >= sign.start[1]) ||
                    (month === sign.end[0] && day <= sign.end[1])
                ) {
                    return sign.sign;
                }
            }
            return "Capricorn";
        }

        const zodiacSigns = [
            { sign: "Capricorn", start: [12, 22], end: [1, 19] },
            { sign: "Aquarius", start: [1, 20], end: [2, 18] },
            { sign: "Pisces", start: [2, 19], end: [3, 20] },
            { sign: "Aries", start: [3, 21], end: [4, 19] },
            { sign: "Taurus", start: [4, 20], end: [5, 20] },
            { sign: "Gemini", start: [5, 21], end: [6, 20] },
            { sign: "Cancer", start: [6, 21], end: [7, 22] },
            { sign: "Leo", start: [7, 23], end: [8, 22] },
            { sign: "Virgo", start: [8, 23], end: [9, 22] },
            { sign: "Libra", start: [9, 23], end: [10, 22] },
            { sign: "Scorpio", start: [10, 23], end: [11, 21] },
            { sign: "Sagittarius", start: [11, 22], end: [12, 21] }
        ];

        const zodiacMessages = {
            "Aries-Libra": "Aries’ bold and fiery independence contrasts with Libra’s harmonious quest for balance.",
            "Taurus-Scorpio": "Taurus’ grounded stability complements Scorpio’s transformative depth.",
            // Add additional messages here...
        };

        const halfBirthdayReflection = 
            "A half-birthday is a time for introspection and balance. Unlike your actual birthday, your half-birthday is a moment to pause and appreciate the growth in your life. Consider what you can give back to the world.";
    </script>
</body>
</html>
